<Page
    x:Class="LiftDataManager.Views.AllgemeineDatenPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:SpeziControls="using:LiftDataManager.Controls"
    xmlns:controls="using:CommunityToolkit.WinUI.UI.Controls"
    xmlns:converters="using:CommunityToolkit.WinUI.UI.Converters"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:ui="using:CommunityToolkit.WinUI.UI"
    Style="{StaticResource PageStyle}"
    mc:Ignorable="d">

    <Page.Resources>
        <converters:BoolToObjectConverter
            x:Key="InvertBoolToObjectConverter"
            FalseValue="Visible"
            TrueValue="Collapsed" />
    </Page.Resources>
    <Grid
        x:Name="ContentArea"
        Margin="5"
        Background="{ThemeResource SystemControlPageBackgroundChromeLowBrush}"
        CornerRadius="10">
        <Grid.RowDefinitions>
            <RowDefinition />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*" />
            <ColumnDefinition Width="auto" />
        </Grid.ColumnDefinitions>
        <!--  Parameter  -->
        <ScrollViewer
            Grid.Row="0"
            Margin="5,5,0,5"
            Padding="10,5,20,5">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>
                <controls:Expander
                    x:Name="KontaktdatenAnsprechpartner"
                    Grid.Row="0"
                    Margin="0,0,0,10"
                    VerticalAlignment="Top"
                    HorizontalContentAlignment="Stretch"
                    ExpandDirection="Down"
                    Header="Kontaktdaten Ansprechpartner"
                    IsExpanded="False">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="*" />
                            <RowDefinition Height="*" />
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>
                        <TextBox
                            Grid.Row="0"
                            Grid.Column="0"
                            MinHeight="92"
                            Margin="0,0,5,0"
                            AcceptsReturn="True"
                            Header="Bauvorhaben"
                            PlaceholderText="Bauvorhaben"
                            Text="{x:Bind ViewModel.ParamterDictionary['var_Projekt'].Value, Mode=TwoWay}"
                            TextWrapping="Wrap" />
                        <TextBox
                            Grid.Row="1"
                            Grid.Column="0"
                            MinHeight="92"
                            Margin="0,0,5,0"
                            AcceptsReturn="True"
                            Header="Betreiber"
                            PlaceholderText="Betreiber"
                            Text="{x:Bind ViewModel.ParamterDictionary['var_Betreiber'].Value, Mode=TwoWay}"
                            TextWrapping="Wrap" />
                        <StackPanel
                            Grid.Row="0"
                            Grid.RowSpan="2"
                            Grid.Column="1"
                            Orientation="Vertical">
                            <TextBox
                                Margin="5,0,5,0"
                                Header="Firma Auftraggeber"
                                PlaceholderText="Firma Auftraggeber"
                                Text="{x:Bind ViewModel.ParamterDictionary['var_Firma'].Value, Mode=TwoWay}" />
                            <TextBox
                                Margin="5,0,5,0"
                                Header="Name Auftraggeber"
                                PlaceholderText="Name Auftraggeber"
                                Text="{x:Bind ViewModel.ParamterDictionary['var_AnPersonZ1'].Value, Mode=TwoWay}" />
                            <TextBox
                                Margin="5,0,5,0"
                                Header="Straße Hausnummer"
                                PlaceholderText="Straße Hausnummer"
                                Text="{x:Bind ViewModel.ParamterDictionary['var_AnPersonZ2'].Value, Mode=TwoWay}" />
                            <TextBox
                                Margin="5,0,5,0"
                                Header="Postleitzahl Ort"
                                PlaceholderText="Postleitzahl Ort"
                                Text="{x:Bind ViewModel.ParamterDictionary['var_AnPersonZ3'].Value, Mode=TwoWay}" />
                            <TextBox
                                Margin="5,0,5,0"
                                Header="Fachplaner"
                                PlaceholderText="Fachplaner"
                                Text="{x:Bind ViewModel.ParamterDictionary['var_AnPersonZ4'].Value, Mode=TwoWay}" />
                            <TextBox
                                Margin="5,0,5,0"
                                Header="Adresse Fachplaner"
                                PlaceholderText="Adresse Fachplaner"
                                Text="{x:Bind ViewModel.ParamterDictionary['var_FP_Adresse'].Value, Mode=TwoWay}" />
                            <TextBox
                                Margin="5,0,5,0"
                                ui:TextBoxExtensions.Regex="^\s*\+?\s*([0-9][\s-]*){9,}$"
                                Header="Telefon Fachplaner"
                                PlaceholderText="Telefon Fachplaner"
                                Text="{x:Bind ViewModel.ParamterDictionary['var_AnPersonPhone'].Value, Mode=TwoWay}" />
                            <TextBox
                                Margin="5,0,5,0"
                                ui:TextBoxExtensions.Regex="^\s*\+?\s*([0-9][\s-]*){9,}$"
                                Header="Mobiltelefon Fachplaner"
                                PlaceholderText="Mobiltelefon Fachplaner"
                                Text="{x:Bind ViewModel.ParamterDictionary['var_AnPersonMobil'].Value, Mode=TwoWay}" />
                            <TextBox
                                Margin="5,0,5,0"
                                ui:TextBoxExtensions.ValidationType="Email"
                                Header="Email Fachplaner"
                                PlaceholderText="Email Fachplaner"
                                Text="{x:Bind ViewModel.ParamterDictionary['var_AnPersonMail'].Value, Mode=TwoWay}" />
                        </StackPanel>
                    </Grid>
                </controls:Expander>
                <controls:Expander
                    x:Name="AllgemeineDaten"
                    Grid.Row="1"
                    Margin="0,0,0,10"
                    VerticalAlignment="Top"
                    HorizontalContentAlignment="Stretch"
                    ExpandDirection="Down"
                    Header="Allgemeine Aufzugsdaten"
                    IsExpanded="True">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="auto " />
                            <RowDefinition Height="auto " />
                            <RowDefinition Height="*" />
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>
                        <CalendarDatePicker
                            Grid.Row="0"
                            Grid.Column="0"
                            Margin="5,0,5,0"
                            HorizontalAlignment="Stretch"
                            VerticalAlignment="Stretch"
                            CalendarIdentifier="GregorianCalendar"
                            Date="{x:Bind ViewModel.ParamterDictionary['var_FreigabeErfolgtAm'].Date, Mode=TwoWay}"
                            DateFormat="{}{day.integer}/{month.integer}/{year.full}"
                            Header="Freigabe erfolgt"
                            Language="de"
                            PlaceholderText="Datum auswählen" />
                        <CalendarDatePicker
                            Grid.Row="0"
                            Grid.Column="1"
                            Margin="5,0,5,0"
                            HorizontalAlignment="Stretch"
                            VerticalAlignment="Stretch"
                            CalendarIdentifier="GregorianCalendar"
                            Date="{x:Bind ViewModel.ParamterDictionary['var_Demontage'].Date, Mode=TwoWay}"
                            DateFormat="{}{day.integer}/{month.integer}/{year.full}"
                            Header="Demontage"
                            Language="de"
                            PlaceholderText="Datum auswählen" />
                        <CalendarDatePicker
                            Grid.Row="0"
                            Grid.Column="2"
                            Margin="5,0,5,0"
                            HorizontalAlignment="Stretch"
                            VerticalAlignment="Stretch"
                            CalendarIdentifier="GregorianCalendar"
                            Date="{x:Bind ViewModel.ParamterDictionary['var_AuslieferungAm'].Date, Mode=TwoWay}"
                            DateFormat="{}{day.integer}/{month.integer}/{year.full}"
                            Header="Auslieferung"
                            Language="de"
                            PlaceholderText="Datum auswählen" />
                        <CalendarDatePicker
                            Grid.Row="0"
                            Grid.Column="3"
                            Margin="5,0,5,0"
                            HorizontalAlignment="Stretch"
                            VerticalAlignment="Stretch"
                            CalendarIdentifier="GregorianCalendar"
                            Date="{x:Bind ViewModel.ParamterDictionary['var_FertigstellungAm'].Date, Mode=TwoWay}"
                            DateFormat="{}{day.integer}/{month.integer}/{year.full}"
                            Header="Fertigstellung"
                            Language="de"
                            PlaceholderText="Datum auswählen" />
                        <ComboBox
                            Grid.Row="1"
                            Grid.Column="0"
                            Margin="5,0,5,0"
                            HorizontalAlignment="Stretch"
                            VerticalAlignment="Stretch"
                            Header="Information Aufzugsanlage"
                            ItemsSource="{x:Bind ViewModel.ParamterDictionary['var_InformationAufzug'].DropDownList, Mode=OneWay}"
                            SelectedValue="{x:Bind ViewModel.ParamterDictionary['var_InformationAufzug'].DropDownListValue, Mode=TwoWay}">
                            <ToolTipService.ToolTip>
                                <TextBlock>
                                    <Run
                                        FontSize="12"
                                        FontWeight="Bold"
                                        Text="Neuanlage:" />
                                    <LineBreak />
                                    Neue Aufzugsanlage in neuen Schacht.<LineBreak />
                                    Die Fabriknummer entspricht unserer<LineBreak />
                                    Auftragsnummer.<LineBreak />
                                    <Run
                                        FontSize="12"
                                        FontWeight="Bold"
                                        Text="Umbau:" />
                                    <LineBreak />
                                    Umbau bzw. Modernisierung einer bestehenden<LineBreak />
                                    Aufzugsanlage,also Ersatz einzelner Komponenten.<LineBreak />
                                    Die alte Fabriknummer bleibt bestehen.<LineBreak />
                                    <Run
                                        FontSize="12"
                                        FontWeight="Bold"
                                        Text="Ersatzanlage:" />
                                    <LineBreak />
                                    Neuer Aufzug in bestehenden Schacht<LineBreak />
                                    in dem vorher schon ein Aufzug war.<LineBreak />
                                    Die Fabriknummer entspricht unserer<LineBreak />
                                    Auftragsnummer,die alte Fabriknummer<LineBreak />
                                    muss angegeben werden damit der<LineBreak />
                                    TÜV die ausgebaute Anlage austragen kann.</TextBlock>
                            </ToolTipService.ToolTip>
                        </ComboBox>
                        <TextBox
                            Grid.Row="1"
                            Grid.Column="1"
                            Margin="5,0,5,0"
                            Header="Fabriknummer Bestandsanlage"
                            PlaceholderText="Fabriknummer Bestandsanlage"
                            Text="{x:Bind ViewModel.ParamterDictionary['var_FabriknummerBestand'].Value, Mode=TwoWay}">
                            <ToolTipService.ToolTip>
                                <TextBlock>
                                    Fabriknummer der alten Bestandsanlage<LineBreak />
                                    Wird bei einer Ersatzanlage benötigt.</TextBlock>
                            </ToolTipService.ToolTip>
                        </TextBox>
                        <ComboBox
                            Grid.Row="1"
                            Grid.Column="2"
                            Margin="5,0,5,0"
                            HorizontalAlignment="Stretch"
                            VerticalAlignment="Stretch"
                            Header="Lieferart"
                            ItemsSource="{x:Bind ViewModel.ParamterDictionary['var_Lieferart'].DropDownList, Mode=OneWay}"
                            SelectedValue="{x:Bind ViewModel.ParamterDictionary['var_Lieferart'].DropDownListValue, Mode=TwoWay}" />
                    </Grid>
                </controls:Expander>
            </Grid>
        </ScrollViewer>
        <!--  InfoSidebarPanel  -->
        <SpeziControls:SidebarPanel
            Grid.Row="0"
            Grid.Column="1"
            Margin="0,10,10,10"
            InfoText="{x:Bind ViewModel.InfoSidebarPanelText, Mode=TwoWay}" />
        <!--  Footer  -->
        <SpeziControls:FooterControl
            Grid.Row="1"
            Grid.ColumnSpan="2"
            Margin="0"
            CheckOut="{x:Bind ViewModel.CheckOut, Mode=OneWay}"
            ParameterFound="{x:Bind ViewModel.ParamterDictionary.Count, Mode=OneWay}"
            XmlPath="{x:Bind ViewModel.FullPathXml, Mode=OneWay}" />
    </Grid>
</Page>

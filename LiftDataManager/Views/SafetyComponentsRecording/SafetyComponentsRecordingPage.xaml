<Page
    x:Class="LiftDataManager.Views.SafetyComponentsRecordingPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:SpeziControls="using:LiftDataManager.Controls"
    xmlns:collections="using:CommunityToolkit.Mvvm.Collections"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:dbModels="using:LiftDataManager.Core.DataAccessLayer.Models"
    xmlns:linq="using:System.Linq"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:tableView="using:WinUI.TableView"
    mc:Ignorable="d">

    <Grid x:Name="ContentArea">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>
        <Pivot
            Grid.Row="0"
            Margin="0,0,0,10"
            SelectedIndex="2"
            SelectedItem="{x:Bind ViewModel.SelectedPivotItem, Mode=TwoWay}">
            <Pivot.Items>
                <PivotItem Tag="CurrentSafetyComponentsPage">
                    <PivotItem.Header>
                        <TextBlock Style="{StaticResource NavigationViewItemHeaderTextStyle}" Text="Aktueller Auftrag" />
                    </PivotItem.Header>
                </PivotItem>
                <PivotItem Tag="SafetyComponentsEquipmentsPage">
                    <PivotItem.Header>
                        <TextBlock Style="{StaticResource NavigationViewItemHeaderTextStyle}" Text="Equipments" />
                    </PivotItem.Header>
                </PivotItem>
                <PivotItem Tag="SafetyComponentsRecordingPage">
                    <PivotItem.Header>
                        <TextBlock Style="{StaticResource NavigationViewItemHeaderTextStyle}" Text="Sicherheitskomponenten" />
                    </PivotItem.Header>
                </PivotItem>
            </Pivot.Items>
        </Pivot>
        <Grid Grid.Row="1">
            <tableView:TableView
                x:Name="RecordingsTableView"
                Grid.Column="0"
                Margin="0,0,5,0"
                AlternateRowBackground="{ThemeResource SystemControlPageBackgroundListLowBrush}"
                AutoGenerateColumns="False"
                CornerRadius="4"
                ItemsSource="{x:Bind ViewModel.SafetyComponentsRecordings, Mode=OneWay}"
                ShowExportOptions="True">
                <tableView:TableView.Columns>
                    <tableView:TableViewTextColumn
                        Width="125"
                        Binding="{Binding LiftCommission.Name}"
                        Header="Auftragsnr." />
                    <tableView:TableViewTextColumn
                        Width="125"
                        Binding="{Binding LiftCommission.SAISEquipment}"
                        Header="Equipmentnr." />
                    <tableView:TableViewTextColumn
                        Width="250"
                        Binding="{Binding Name}"
                        Header="Produktbeschreibung" />
                    <tableView:TableViewNumberColumn
                        Width="75"
                        Binding="{Binding Release}"
                        Header="Release" />
                    <tableView:TableViewNumberColumn
                        Width="75"
                        Binding="{Binding Revision}"
                        Header="Revision" />
                    <tableView:TableViewTextColumn
                        Width="225"
                        Binding="{Binding IdentificationNumber}"
                        Header="Identificationr." />
                    <tableView:TableViewTextColumn
                        Width="150"
                        Binding="{Binding SerialNumber}"
                        Header="Seriennr." />
                    <tableView:TableViewTextColumn
                        Width="150"
                        Binding="{Binding BatchNumber}"
                        Header="Chargennr." />
                    <tableView:TableViewTextColumn
                        Width="175"
                        Binding="{Binding SafetyComponentManfacturer.Name}"
                        CanFilter="False"
                        CanSort="False"
                        Header="Hersteller"
                        IsReadOnly="False" />
                    <tableView:TableViewTextColumn
                        Width="100"
                        Binding="{Binding SafetyComponentManfacturer.ZIPCode}"
                        Header="Postleitzahl" />
                    <tableView:TableViewTextColumn
                        Width="100"
                        Binding="{Binding SafetyComponentManfacturer.City}"
                        Header="Stadt" />
                    <tableView:TableViewTextColumn
                        Width="50"
                        Binding="{Binding SafetyComponentManfacturer.Country}"
                        Header="Land" />
                </tableView:TableView.Columns>
            </tableView:TableView>
        </Grid>
    </Grid>
</Page>

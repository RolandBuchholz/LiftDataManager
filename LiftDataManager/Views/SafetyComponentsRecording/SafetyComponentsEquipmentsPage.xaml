<Page
    x:Class="LiftDataManager.Views.SafetyComponentsEquipmentsPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:SpeziControls="using:LiftDataManager.Controls"
    xmlns:collections="using:CommunityToolkit.Mvvm.Collections"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:dbModels="using:LiftDataManager.Core.DataAccessLayer.Models"
    xmlns:linq="using:System.Linq"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:tableView="using:WinUI.TableView"
    mc:Ignorable="d">

    <Grid x:Name="ContentArea">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>
        <Pivot
            Grid.Row="0"
            Margin="0,0,0,10"
            SelectedIndex="1"
            SelectedItem="{x:Bind ViewModel.SelectedPivotItem, Mode=TwoWay}">
            <Pivot.Items>
                <PivotItem Tag="CurrentSafetyComponentsPage">
                    <PivotItem.Header>
                        <TextBlock Style="{StaticResource NavigationViewItemHeaderTextStyle}" Text="Aktueller Auftrag" />
                    </PivotItem.Header>
                </PivotItem>
                <PivotItem Tag="SafetyComponentsEquipmentsPage">
                    <PivotItem.Header>
                        <TextBlock Style="{StaticResource NavigationViewItemHeaderTextStyle}" Text="Equipments" />
                    </PivotItem.Header>
                </PivotItem>
                <PivotItem Tag="SafetyComponentsRecordingPage">
                    <PivotItem.Header>
                        <TextBlock Style="{StaticResource NavigationViewItemHeaderTextStyle}" Text="Sicherheitskomponenten" />
                    </PivotItem.Header>
                </PivotItem>
            </Pivot.Items>
        </Pivot>
        <Grid Grid.Row="1">
            <tableView:TableView
                x:Name="EquipmentsTableView"
                Grid.Column="0"
                Margin="0,0,5,0"
                AutoGenerateColumns="False"
                CornerRadius="4"
                ItemsSource="{x:Bind ViewModel.Equipments, Mode=OneWay}">
                <tableView:TableView.Columns>
                    <tableView:TableViewTextColumn
                        Width="150"
                        Binding="{Binding LiftInstallerID}"
                        Header="Montagebetrieb" />
                    <tableView:TableViewTextColumn
                        Width="150"
                        Binding="{Binding Name}"
                        Header="Hersteller-Nr." />
                    <tableView:TableViewTextColumn
                        Width="150"
                        Binding="{Binding SAISEquipment}"
                        Header="Equipment-Nr." />
                    <tableView:TableViewNumberColumn
                        Width="75"
                        Binding="{Binding SafetyComponentRecords.Count}"
                        Header="Anzahl Sicherheitsbauteile" />
                    <tableView:TableViewTextColumn
                        Width="300"
                        Binding="{Binding Street}"
                        Header="Straße" />
                    <tableView:TableViewTextColumn
                        Width="50"
                        Binding="{Binding HouseNumber}"
                        Header="Hausnr." />
                    <tableView:TableViewNumberColumn
                        Width="75"
                        Binding="{Binding ZIPCode}"
                        Header="Postleitzahl" />
                    <tableView:TableViewTextColumn
                        Width="100"
                        Binding="{Binding City}"
                        Header="Stadt" />
                    <tableView:TableViewTextColumn
                        Width="75"
                        Binding="{Binding Country}"
                        Header="Land" />
                </tableView:TableView.Columns>
            </tableView:TableView>
        </Grid>
    </Grid>
</Page>